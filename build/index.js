(()=>{"use strict";var e,t={165:(e,t,r)=>{const o=window.wp.blocks,n=window.wp.components,a=window.wp.data,i=window.wp.blockEditor,s=window.wp.element,l=window.wp.apiFetch;var c=r.n(l);const d=window.ReactJSXRuntime;(0,o.registerBlockType)("create-block/post-by-date",{attributes:{category:{type:"string",default:""},date:{type:"string",default:""},limit:{type:"number",default:5}},edit:e=>{const{attributes:t,setAttributes:r}=e,{category:o,date:l,limit:p}=t,u=(0,i.useBlockProps)(),v=(0,a.useSelect)((e=>e("core").getEntityRecords("taxonomy","category",{hide_empty:!1})||[]),[]);(0,s.useEffect)((()=>{(async()=>{try{const e=await c()({path:"/custom/v1/settings"});r({category:o||e.category_post,date:l||e.category_date,limit:p||e.category_limit})}catch(e){console.error("Error fetching default options:",e)}})()}),[]);const h=(0,a.useSelect)((e=>{const t={per_page:p,categories:o,before:l?new Date(l).toISOString():void 0};return e("core").getEntityRecords("postType","post",t)||[]}),[o,l,p]);function m(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}return(0,d.jsxs)("div",{...u,children:[(0,d.jsx)(n.SelectControl,{label:"Select Category",value:o,options:[{label:"Select Option",value:""},...v.map((e=>({label:e.name,value:e.id})))],onChange:e=>r({category:e})}),(0,d.jsx)("label",{htmlFor:"post-date",children:"Date"}),(0,d.jsx)("input",{type:"date",id:"post-date",value:l,onChange:e=>r({date:e.target.value})}),(0,d.jsx)(n.__experimentalNumberControl,{label:"Limit",value:p,onChange:e=>r({limit:parseInt(e,10)}),min:1,max:100}),h.length>0?(0,d.jsx)("div",{className:"post-by-date-block",children:h.map((e=>(0,d.jsxs)("div",{className:"post-item",children:[(0,d.jsx)("h3",{children:e.title.rendered}),(0,d.jsx)("p",{children:m(e.excerpt.rendered)}),(0,d.jsx)("p",{children:(0,d.jsxs)("small",{children:["Published on: ",e.date.substring(0,10)]})})]},e.id)))}):(0,d.jsx)("p",{children:"No posts found."})]})},save:()=>null})}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,r,n,a)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],n=e[d][1],a=e[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,i=r[0],s=r[1],l=r[2],c=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var d=l(o)}for(t&&t(r);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},r=self.webpackChunkpost_by_date=self.webpackChunkpost_by_date||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[350],(()=>o(165)));n=o.O(n)})();